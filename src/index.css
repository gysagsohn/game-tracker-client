@import "tailwindcss";

/* ---------- Design Tokens ---------- */
@theme {
  /* Font */
  --font-sans: "Inter", sans-serif;

  /* Backgrounds */
  --color-default: #F5F6FA;
  --color-card: #FFFFFF;

  /* Text */
  --color-primary: #1E1F22;
  --color-secondary: #4F545C;
  --color-placeholder: #8C8C8C;
  --color-link: #5865F2;

  /* Buttons (CTA) */
  --color-cta: #5865F2;
  --color-cta-hover: #4752C4;

  /* Status */
  --color-warning: #ED4245;
  --color-success: #57F287;

  /* Borders & Disabled */
  --color-border-muted: #D1D5DB;

  /* Typography scale */
  --text-h1: 32px;
  --text-h2: 24px;
  --text-body: 16px;
  --text-sm: 14px;

  /* Radii */
  --radius-standard: 8px;

  /* Spacing (4px scale) */
  --spacing-xs: 4px;
  --spacing-s: 8px;
  --spacing-m: 16px;
  --spacing-l: 24px;
  --spacing-xl: 32px;

  /* Shadows */
  --shadow-card: 0 1px 3px rgba(0,0,0,0.05);
  --shadow-modal: 0 4px 16px rgba(0,0,0,0.15);
  --shadow-tooltip: 0 2px 8px rgba(0,0,0,0.10);

  /* Breakpoints */
  --breakpoint-xs: 21.875rem;
  --breakpoint-sm: 28.125rem;
  --breakpoint-md: 48rem;
  --breakpoint-lg: 64rem;
}

:root {
  --color-primary: #1E1F22;
  --color-secondary: #4F545C;
  --color-placeholder: #8C8C8C;
  --color-link: #5865F2;
  --color-cta: #5865F2;
  --color-cta-hover: #4752C4;
  --color-warning: #ED4245;
  --color-success: #57F287;
  --color-border-muted: #D1D5DB;
  --color-default: #F5F6FA;
  --color-card: #FFFFFF;
  
  --text-h1: 32px;
  --text-h2: 24px;
  --text-body: 16px;
  --text-sm: 14px;
  
  --radius-standard: 8px;
  
  --spacing-xs: 4px;
  --spacing-s: 8px;
  --spacing-m: 16px;
  --spacing-l: 24px;
  --spacing-xl: 32px;
  
  --shadow-card: 0 1px 3px rgba(0,0,0,0.05);
  --shadow-modal: 0 4px 16px rgba(0,0,0,0.15);
  --shadow-tooltip: 0 2px 8px rgba(0,0,0,0.10);
}

/* ---------- Reusable Component Classes ---------- */
@layer components {
  /* Typography helpers */
  .h1 { @apply text-primary font-bold; font-size: var(--text-h1); line-height: 1.2; }
  .h2 { @apply text-primary font-semibold; font-size: var(--text-h2); line-height: 1.3; }
  .body-text { @apply text-primary; font-size: var(--text-body); line-height: 1.6; }
  .text-small { @apply text-secondary; font-size: var(--text-sm); line-height: 1.45; }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center text-center select-none transition;
    border-radius: var(--radius-standard);
    padding: 12px 20px;
    font-weight: 600;
    font-family: var(--font-sans);
    border: none;
    cursor: pointer;
  }

  .btn:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  .btn-primary { 
    @apply text-white; 
    background: var(--color-cta); 
  }

  .btn-primary:hover:not(:disabled) { 
    background: var(--color-cta-hover); 
  }

  .btn-primary:disabled {
    background: var(--color-border-muted);
    color: #FFFFFF;
  }

  .btn-success { 
    @apply text-white; 
    background: var(--color-success); 
  }

  .btn-success:hover:not(:disabled) { 
    filter: brightness(1.07); 
  }

  .btn-success:disabled { 
    background: var(--color-border-muted);
    color: #FFFFFF;
  }

  .btn-warning { 
    @apply text-white; 
    background: var(--color-warning); 
  }

  .btn-warning:hover:not(:disabled) { 
    filter: brightness(1.07); 
  }

  .btn-warning:disabled { 
    background: var(--color-border-muted);
    color: #FFFFFF;
  }

  .btn-secondary {
    @apply text-primary;
    background: var(--color-card);
    border: 1px solid var(--color-border-muted);
  }

  .btn-secondary:hover:not(:disabled) {
    background: color-mix(in oklab, var(--color-border-muted) 20%, white);
  }

  .btn-sm { 
    padding: 8px 14px; 
    font-size: 14px; 
    border-radius: var(--radius-standard);
  }

  /* Inputs */
  .input {
    @apply w-full text-primary bg-card outline-none;
    border: 1px solid var(--color-border-muted);
    border-radius: var(--radius-standard);
    padding: 10px 14px;
  }
  
  .input::placeholder { color: var(--color-placeholder); }
  .input:focus { border: 2px solid var(--color-cta); }
  .input-success { border-color: var(--color-success) !important; }
  .input-error { border-color: var(--color-warning) !important; }

  /* Icons */
  .icon-primary { color: var(--color-cta); }
  .icon-secondary { color: var(--color-secondary); }
  .icon-muted { color: var(--color-placeholder); }

  /* Shadows */
  .shadow-card { box-shadow: var(--shadow-card); }
  .shadow-modal { box-shadow: var(--shadow-modal); }
  .shadow-tooltip { box-shadow: var(--shadow-tooltip); }

  .card { 
    background: var(--color-card); 
    border: 1px solid color-mix(in oklab, var(--color-border-muted) 60%, transparent); 
    border-radius: var(--radius-standard); 
  }
}

/* React Day Picker styles */
.rdp-compact .rdp {
  --rdp-cell-size: 36px;
  --rdp-accent-color: var(--color-cta);
  --rdp-background-color: color-mix(in oklab, var(--color-cta) 10%, white);
}
.rdp-compact .rdp-months { justify-content: center; }
.rdp-compact .rdp-caption { padding: 6px 8px; }
.rdp-compact .rdp-head_cell { padding: 4px 0; font-size: 12px; }
.rdp-compact .rdp-dropdown { max-width: 7rem; }

.date-popover {
  min-width: 20rem;
  max-width: 22rem;
}

@media (max-width: 420px) {
  .date-popover {
    min-width: 16rem;
    width: calc(100vw - 2rem);
  }
}